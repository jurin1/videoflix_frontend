<section class="hero-section" *ngIf="heroVideo">
    <div class="hero-content">
        <div class="video-player-container">
            <video #heroVideoPlayer class="video-js vjs-default-skin" controls preload="auto" data-setup="{}">
            </video>
        </div>
        <div class="video-details">
            <h2 class="hero-video-title">{{ heroVideo.title }}</h2>
            <p class="hero-video-description">
                {{ heroVideo.description }}
            </p>
            <button class="play-button" (click)="openVideoModal(heroVideo)">
                <fa-icon [icon]="faPlay"></fa-icon> Play
            </button>
        </div>
    </div>
</section>

<div class="dashboard-container">
    <section class="category-section" *ngIf="newOnVideoflixVideos.length > 0">
        <h3 class="category-title">New on Videoflix</h3>
        <div class="category-carousel">
            <button class="carousel-arrow left" *ngIf="carouselNeeded['newOnVideoflix']"
                (click)="scrollCarousel('newOnVideoflix', -1)">‹</button>
            <div class="video-list" #newOnVideoflixCarousel>
                <div class="video-card" *ngFor="let video of newOnVideoflixVideos">
                    <a><a (click)="openVideoModal(video)">
                            <img [src]="video.thumbnail" alt="{{ video.title }}" class="video-thumbnail">
                        </a>
                        <h4 class="video-title">{{ video.title }}</h4>
                    </a>
                    <h4 class="video-title">{{ video.title }}</h4>

                </div>
            </div>
            <button class="carousel-arrow right" *ngIf="carouselNeeded['newOnVideoflix']"
                (click)="scrollCarousel('newOnVideoflix', 1)">›</button>
        </div>
    </section>

    <section class="category-section" *ngIf="documentaryVideos.length > 0">
        <h3 class="category-title">Documentary</h3>
        <div class="category-carousel">
            <button class="carousel-arrow left" *ngIf="carouselNeeded['documentary']"
                (click)="scrollCarousel('documentary', -1)">‹</button>
            <div class="video-list" #documentaryCarousel>
                <div class="video-card" *ngFor="let video of documentaryVideos">
                    <a (click)="openVideoModal(video)">
                        <a (click)="openVideoModal(video)">
                            <img [src]="video.thumbnail" alt="{{ video.title }}" class="video-thumbnail">
                        </a>
                        <h4 class="video-title">{{ video.title }}</h4>
                    </a>
                </div>
            </div>
            <button class="carousel-arrow right" *ngIf="carouselNeeded['documentary']"
                (click)="scrollCarousel('documentary', 1)">›</button>
        </div>
    </section>

    <section class="category-section" *ngIf="dramaVideos.length > 0">
        <h3 class="category-title">Drama</h3>
        <div class="category-carousel">
            <button class="carousel-arrow left" *ngIf="carouselNeeded['drama']"
                (click)="scrollCarousel('drama', -1)">‹</button>
            <div class="video-list" #dramaCarousel>
                <div class="video-card" *ngFor="let video of dramaVideos">
                    <a (click)="openVideoModal(video)">
                        <img [src]="video.thumbnail" alt="{{ video.title }}" class="video-thumbnail">
                    </a>
                    <h4 class="video-title">{{ video.title }}</h4>
                </div>
            </div>
            <button class="carousel-arrow right" *ngIf="carouselNeeded['drama']"
                (click)="scrollCarousel('drama', 1)">›</button>
        </div>
    </section>

    <section class="category-section" *ngIf="comedyVideos.length > 0">
        <h3 class="category-title">Comedy</h3>
        <div class="category-carousel">
            <button class="carousel-arrow left" *ngIf="carouselNeeded['comedy']"
                (click)="scrollCarousel('comedy', -1)">‹</button>
            <div class="video-list" #comedyCarousel>
                <div class="video-card" *ngFor="let video of comedyVideos">
                    <a (click)="openVideoModal(video)">
                        <img [src]="video.thumbnail" alt="{{ video.title }}" class="video-thumbnail">
                    </a>
                    <h4 class="video-title">{{ video.title }}</h4>
                </div>
            </div>
            <button class="carousel-arrow right" *ngIf="carouselNeeded['comedy']"
                (click)="scrollCarousel('comedy', 1)">›</button>
        </div>
    </section>

    <section class="category-section" *ngIf="actionVideos.length > 0">
        <h3 class="category-title">Action</h3>
        <div class="category-carousel">
            <button class="carousel-arrow left" *ngIf="carouselNeeded['action']"
                (click)="scrollCarousel('action', -1)">‹</button>
            <div class="video-list" #actionCarousel>
                <div class="video-card" *ngFor="let video of actionVideos">
                    <a (click)="openVideoModal(video)">
                        <img [src]="video.thumbnail" alt="{{ video.title }}" class="video-thumbnail">
                    </a>
                    <h4 class="video-title">{{ video.title }}</h4>
                </div>
            </div>
            <button class="carousel-arrow right" *ngIf="carouselNeeded['action']"
                (click)="scrollCarousel('action', 1)">›</button>
        </div>
    </section>

    <section class="category-section" *ngIf="continueWatchingVideos.length > 0">
        <h3 class="category-title">Continue Watching</h3>
        <div class="category-carousel">
            <button class="carousel-arrow left" *ngIf="carouselNeeded['continueWatching']"
                (click)="scrollCarousel('continueWatching', -1)">‹</button>
            <div class="video-list" #continueWatchingCarousel>
                <div class="video-card" *ngFor="let video of continueWatchingVideos">
                    <a (click)="openVideoModal(video)">
                        <img [src]="video.thumbnail" alt="{{ video.title }}" class="video-thumbnail">
                    </a>
                    <h4 class="video-title">{{ video.title }}</h4>
                </div>
            </div>
            <button class="carousel-arrow right" *ngIf="carouselNeeded['continueWatching']"
                (click)="scrollCarousel('continueWatching', 1)">›</button>
        </div>
    </section>
</div>

<app-video-player [videoUrl]="selectedVideoUrl" [videoData]="selectedVideo"
    [showModal]="showVideoModal"></app-video-player>